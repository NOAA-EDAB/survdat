[{"path":"https://noaa-edab.github.io/survdat/articles/calc_strat_mean.html","id":"background","dir":"Articles","previous_headings":"","what":"Background","title":"Calculating stratified mean biomass/abundance","text":"survdat package designed work Northeast Fisheries Science Center’s (NEFSC) bottom trawl surveys. NEFSC conducting standardized bottom trawl surveys fall since 1963 spring since 1968. surveys follow stratified random design. Fish species several invertebrate species enumerated tow tow basis [@Azarovitz_1981]. data housed NEFSC’s survey database (SVDBS) maintained Ecosystem Survey Branch. get_survdat_data function query NEFSC survey database (SVSDBS) apply appropriate calibration factors associated gear vessel differences throughout time series. However, end users usually interested derived estimates biomass abundance tow tow data retrieved via get_survdat_data. stratified random design survey allows calculation stratified mean biomass abundance species group species. facilitate calculation stratified means, survdat package function calc_stratified_mean. function actually wrapper several intermediate functions. Work flow calc_stratified_mean function associated intermediate functions.","code":""},{"path":"https://noaa-edab.github.io/survdat/articles/calc_strat_mean.html","id":"strat_prep","dir":"Articles","previous_headings":"","what":"strat_prep","title":"Calculating stratified mean biomass/abundance","text":"first function called strat_prep. name implies, strat_prep prepares data set stratified means can calculated. Nested within function post_strat get_area functions. post_strat function used following stratified design survey. automatically called user inputs sf object rather specified default ‘NEFSC strata’. occurs, R object poststratData generated post_strat replace survdat data object ultimately passed prepData object. also turn poststratFlag used strat_mean function. point can also filter data using filterBySeason filterByArea arguments. first allow select one three options: ‘FALL’, ‘SPRING’, ‘’. default option ‘’. Note selecting spring fall survey combine two surveys. want separate means surveys need run independently. second filter allow select subset strata use analysis. rest prep work done strat_prep counting number tows per strata proportional weight strata. adds columns ntows W.h data set. number tows (ntows) simply length unique station records per stratum: Proportional weights strata based area. area strata calculated using get_area function uses Lambert Conformal Conic projection. get_area function creates list strata corresponding areas () strat_prep uses calculate relative weight (W) strata h : Wh=Ah∑Ah\\begin{equation}     \\label{PropArea}     \\begin{split}     W_h = \\frac{A_h}{\\sum{A_h}} \\end{split} \\end{equation} counting number tows calculating relative weight strata, resulting prepData passed strat_mean function.","code":"# Count the number of stations in each year for each Region   data.table::setkey(stations, YEAR, STRAT)   stations[, ntows := length(STATION), by = key(stations)]"},{"path":"https://noaa-edab.github.io/survdat/articles/calc_strat_mean.html","id":"strat_mean","dir":"Articles","previous_headings":"","what":"strat_mean","title":"Calculating stratified mean biomass/abundance","text":"data prepared using strat_prep real calculations carried function strat_mean. function remove duplicate catch records may present due length data, merge sexed species (leave separate specified), calculate total number stations year, subset species list desired, calculate stratified mean biomass adundance along associated variance. first actions straightforward. Length data removed ensure catch accounted . Similarly, catch sexed species spiny dogfish merged kept separate. default merge user may specify keep separate setting mergesexFlag FALSE. Sexed species kept separate changing group designation concatenation group name catch sex. total number tows per year sum ntows strata sampled given year. Species group list can subsetted using filterByGroup argument.","code":"#Remove length data if present   data.table::setkey(stratmeanData, CRUISE6, STRATUM, STATION, SVSPP, CATCHSEX)   stratmeanData <- unique(stratmeanData, by = key(stratmeanData))   stratmeanData[, c('LENGTH', 'NUMLEN') := NULL] #Merge sex or keep separate   if(mergesexFlag == F) stratmeanData[, group := paste(group, CATCHSEX, sep = '')]    data.table::setkey(stratmeanData, CRUISE6, strat, STATION, group)   stratmeanData[, BIOMASS   := sum(BIOMASS),   by = key(stratmeanData)]   stratmeanData[, ABUNDANCE := sum(ABUNDANCE), by = key(stratmeanData)]   stratmeanData <- unique(stratmeanData, by = key(stratmeanData)) #Calculate total number of stations per year   data.table::setkey(stratmeanData, strat, YEAR)   N <- unique(stratmeanData, by = key(stratmeanData))   N <- N[, sum(ntows), by = 'YEAR']   data.table::setnames(N, 'V1', 'N')"},{"path":"https://noaa-edab.github.io/survdat/articles/calc_strat_mean.html","id":"stratified-mean-and-variance-calculations","dir":"Articles","previous_headings":"","what":"Stratified mean and variance calculations","title":"Calculating stratified mean biomass/abundance","text":"Finally, stratified mean biomass calculated : B‾=∑h=1LWhBh‾\\begin{equation}     \\label{Stratifed}     \\bar{B} = \\sum_{h = 1}^{L}{W_h\\bar{B_h}} \\end{equation} B‾\\bar{B} stratified mean biomass, WhW_h Bh‾\\bar{B_h} relative weight mean biomass stratum hh, LL total number strata. Bh‾\\bar{B_h} calculated : Bh‾=∑=1nBinh\\begin{equation}     \\label{mean biomass}     \\bar{B_h} = \\frac{\\sum_{= 1}^n{B_i}}{n_h} \\end{equation} BiB_i biomass station ii nhn_h number stations stratum hh. Additionally, variance calculated : sB‾2=∑h=1LWh2sh2nh\\begin{equation}     \\label{stratified variance}     s_{\\bar{B}}^2 = \\sum_{h = 1}^L{\\frac{W_{h}^{2} s_{h}^{2}}{n_{h}}} \\end{equation} sB‾2s_{\\bar{B}}^2 variance stratified mean biomass sh2s_h^2 variance mean stratum hh. sh2s_h^2 calculated : sh2=(Bi−Bh‾)2nh−1\\begin{equation}     \\label{strata variance}     s_h^2 = \\frac{{(B_i - \\bar{B_h})}^2}{n_h - 1} \\end{equation} poststratFlag set TRUE different stratification used rather survey design, variance calculation becomes: sB‾2=∑h=1Lsh2WhN+∑h=1L(1−Wh)sh2N2\\begin{equation}     \\label{penalty variance}     s_{\\bar{B}}^2 = \\frac{\\sum_{h = 1}^L{s_{h}^{2} W_h}}{N} +                      \\sum_{h = 1}^L{\\frac{(1 - W_h)s_h^2}{N^2}} \\end{equation} NN total number stations year. final calculation calc_stratified_mean function standard error mean : sB‾=sB‾2\\begin{equation}     \\label{standard error}     s_{\\bar{B}} = \\sqrt{s_{\\bar{B}}^2} \\end{equation} Similar calculations carried abundance numbers replacing biomass equations .","code":""},{"path":"https://noaa-edab.github.io/survdat/articles/calc_strat_mean.html","id":"tidy-data","dir":"Articles","previous_headings":"","what":"Tidy data","title":"Calculating stratified mean biomass/abundance","text":"default output calc_stratified_mean function wide table row every year/group combination. can elect tidy format (long) instead specifying argument tidy = TRUE. melt table year/group combo now seperate row stratified mean biomass, stratified mean abundance, variance stratified mean biomass, variance stratified mean abundance. tidy data also append units column data set. units stratified mean biomass kgtow−1kg tow^-1 stratified mean abundance numberstow−1numbers tow^-1. Note tidy data set include standard errors.","code":""},{"path":[]},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/articles/methodology.html","id":"bottom-trawl-surveys","dir":"Articles","previous_headings":"","what":"Bottom Trawl Surveys","title":"How biomass estimates are calculated","text":"Northeast Fisheries Science Center (NEFSC) conducting standardized bottom trawl surveys fall since 1963 spring since 1968. surveys follow stratified random design. Fish species several invertebrate species enumerated tow tow basis (Azarovitz 1981). data housed NEFSC’s survey database (SVDBS) maintained Ecosystem Survey Branch. Direct pulls database advisable several gear modifications vessel changes course time series (Miller et al. 2010). survdat developed database query applies appropriate calibration factors seamless time series since 1960s.","code":""},{"path":"https://noaa-edab.github.io/survdat/articles/methodology.html","id":"methods","dir":"Articles","previous_headings":"","what":"Methods","title":"How biomass estimates are calculated","text":"survdat package can broken two sections. first pulls raw data SVDBS. survdat identifies research cruises associated seasonal bottom trawl surveys pulls station biological data. Station data includes tow identification (cruise, station, stratum), tow location date, well several environmental variables (depth, surface/bottom salinity, surface/bottom temperature). Stations filtered representativness using station, haul, gear (SHG) code tows prior 2009 tow, operations, gear, aquisition (TOGA) code 2009 onward. codes correspond representative tow (SHG <= 136 TOGA <= 1324) used assessment biologists NEFSC. Biological data includes total biomass abundance species, well lengths number length. second section Survdat script applies calibration factors. four calibrartion factors applied (Table @ref(tab:calibration)). Calibration factors pulled directly SVDBS. Vessel conversions made either NOAA Ship Delaware II NOAA Ship Henry Bigelow NOAA Ship Albatross IV primary vessel time series. Albatross decommisioned 2009 Bigelow now primary vessel bottom trawl survey. Calibration factors NEFSC trawl survey data output survdat data.table contains station biological data, corrected noted , NEFSC Spring Bottom Trawl Survey NEFSC Fall Bottom Trawl Survey. purposes aggregate biomass indicators, fall spring survey data treated separately. Additionally, length data dropped species seperated sex catch level merged back together. data pulled SVDBS first post stratified geographical regions (user supplied geospatial shapefile) labeling sampling stations geographical region fell within (post_strat.r) Next, total number stations within geographical region per year counted using unique station records (strat_prep.r). Biomass summed species per year per region divided appropriate station count get regional mean (strat_mean.r). Finally, mean biomasses summed defined regions (swept_area.r).","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/articles/pullingData.html","id":"base","dir":"Articles","previous_headings":"","what":"Basic data pull","title":"Pulling Data","text":"Pull tow level data Bottom Trawl Survey (purpose_code = 10) Species abundance (EXPCATCHNUM), biomass (EXPCATCHWT), sex (CATCHSEX), spring fall cruise (user specified years) representative tows. addition non biological data retrieved specific tow location: latitude (DECDEG_BEGLAT), longitude (DECDEG_BEGLON), depth (AVGDEPTH), surface bottom temperature (SURFTEMP, BOTTEMP) salinity (SURSALIN, BOTSALIN) representative tow tow : SHG code <= 136 tows cruises 2009 TOGA code <= 1324 tows cruises 2009 list cruises retrieved user specified years station data retrieved cruises (pulled ) tables joined species data retrieved cruises (pulled ) joined cruise/station data table resulting data frame look like :","code":"survdat::get_survdat_data(channel,                            getLengths = F,                            conversion.factor = F) select unique year, cruise6, svvessel, season from svdbs.mstr_cruise where purpose_code = 10 and year in <userYears> and season = 'FALL'  or season = 'SPRING' order by year, cruise6 select unique cruise6, svvessel, station, stratum, tow, decdeg_beglat as lat, decdeg_beglon as lon, begin_est_towdate as est_towdate, avgdepth as depth, surftemp, surfsalin, bottemp, botsalin from svdbs.UNION_FSCS_SVSTA where cruise6 in <cruiseData> and (SHG <= 136 and cruise6 <= 200900) or (TOGA <= 1324 and cruise6 > 200900) order by cruise6, station) select cruise6, station, stratum, tow, svspp, catchsex,expcatchnum as abundance, expcatchwt as biomass from svdbs.UNION_FSCS_SVCAT where cruise6 in <cruiseData> and stratum not like 'YT%' order by cruise6, station, svspp"},{"path":"https://noaa-edab.github.io/survdat/articles/pullingData.html","id":"lengths","dir":"Articles","previous_headings":"","what":"Length data","title":"Pulling Data","text":"Individual lengths (nearest centimeter) species sampled (addition base pull data). Two additional fields retrieved: length (LENGTH) numlen (EXPNUMLEN), number fish sampled given length. Use argument getLengths = T length data retrieved species user specified years joined base pull data resulting data frame many rows data base pull. tow level data species replicated many times different lengths sampled resulting data frame look like :","code":"survdat::get_survdat_data(channel,                            getLengths = T,                            conversion.factor = F) select cruise6, station, stratum, tow, svspp, catchsex, length, expnumlen as numlen from svdbs.UNION_FSCS_SVLEN where cruise6 in <cuiseData> and stratum not like 'YT%' order by cruise6, station, svspp, length"},{"path":"https://noaa-edab.github.io/survdat/articles/pullingData.html","id":"length-weight-conversions","dir":"Articles","previous_headings":"","what":"Length weight conversions","title":"Pulling Data","text":"fish length measured, subset weight measured. However based paper Wigley et al length-weight coefficients calculated (species season sex) reside table LENGTH_WEIGHT_COEFFICIENTS. coefficients can applied observed lengths obtain estimates weight. Use argument getWeightLength = T. length-weight coefficients pulled applied length data. Two additional columns included: Predicted weight (PREDWT) expanded weight (WGTLEN). WGTLEN predicted weight * number fish observed specified length. Note: predicted weight incorrect. variance underlying fit required. reported predicted weight underestimate resulting data frame look like :","code":"survdat::get_survdat_data(channel,                            getLengths = T,                           getWeightLength = T,                           conversion.factor = F) select svspp, sex, svlwexp, svlwcoeff, svlwexp_spring, svlwcoeff_spring, svlwexp_fall, svlwcoeff_fall, svlwexp_winter, svlwcoeff_winter, svlwexp_summer, svlwcoeff_summer from svdbs.length_weight_coefficients"},{"path":"https://noaa-edab.github.io/survdat/articles/pullingData.html","id":"biological-data","dir":"Articles","previous_headings":"","what":"Biological data","title":"Pulling Data","text":"pull additional biological data use argument getBio = T Additional fields pulled, namely: INDID - Individual fish identity. INDWT - Individual weight fish (Kg) SEX - Sex fish MATURITY - Stage maturation AGE - Age fish (yrs) STOM_VOLUME - Volume stomach (cc) STOM_WGT - Weight stomach (g) biological data retrieved joined length data resulting data frame look like : Species lengths additional “biological” data dropped returned data frame","code":"survdat::get_survdat_data(channel,                            getLengths = T,                           getWeightLength = T,                           conversion.factor = F,                           getBio = T) select cruise6, station, stratum, svspp, catchsex, length, indid, indwt, sex, maturity, age, stom_volume, stom_wgt from svdbs.UNION_FSCS_SVBIO where cruise6 in <cruiseData>"},{"path":"https://noaa-edab.github.io/survdat/articles/pullingData.html","id":"calibration-factors","dir":"Articles","previous_headings":"","what":"Calibration factors","title":"Pulling Data","text":"Since bottom trawl survey began modifications sampling strategy. example: Door effects - 1985 new set doors introduced Gear effects - 1973 - 1981, spring survey, different net used Vessel effects - several changes ships used (Delaware II, Albatross IV, Henry Bigelow (2009)) Experiments measure relative catchability two vessel-gear combinations necessary rigorously combine information analyses stock assessments. Without accounting effects resulting abundance biomass time series exhibit shifts related effects. help mitigate conversion factors calculated create continuous time series. conversion factors reside table SURVAN_CONVERSION_FACTORS can applied pulled data. using argument conversion.factor = T apply conversion factors resulting data frame look like : NOTE: application conversion factors requires review","code":"survdat::get_survdat_data(channel,                            getLengths = T,                           getWeightLength = T,                           conversion.factor = T,                           getBio = T)"},{"path":"https://noaa-edab.github.io/survdat/articles/survdat.html","id":"connect-to-the-database","dir":"Articles","previous_headings":"","what":"Connect to the database","title":"Usage","text":"granted permission access database Oracle’s instant Client installed can make connection follows: channel object inherited DBIConnection-class. object passed argument functions survdat","code":"channel <- dbutils::connect_to_database(server=\"servername\",uid=\"yourUsername\")"},{"path":"https://noaa-edab.github.io/survdat/articles/survdat.html","id":"pull-data","dir":"Articles","previous_headings":"","what":"Pull Data","title":"Usage","text":"Pulling data can take 15 minutes complete. see get_survdat_data() details. pull survey data conversion corrections applied use following: data list 5 elements. data set sql statements made pull data function call statement date pull version package used create data pull detailed information regarding different types data pulls please review vignette(\"pullingData\")","code":"data <- get_survdat_data(channel)"},{"path":"https://noaa-edab.github.io/survdat/articles/survdat.html","id":"plot-the-shapefiles","dir":"Articles","previous_headings":"","what":"Plot the shapefiles","title":"Usage","text":"Two shape files included package, strata.shp EPU.shp read plot EPU.shp file:","code":"areaPolygon <- sf::st_read(dsn = system.file(\"extdata\",\"EPU.shp\",package=\"survdat\"), quiet=T) plot_shapefile(areaPolygon)"},{"path":"https://noaa-edab.github.io/survdat/articles/survdat.html","id":"stratified-mean","dir":"Articles","previous_headings":"","what":"Stratified Mean","title":"Usage","text":"development.","code":""},{"path":"https://noaa-edab.github.io/survdat/articles/survdat.html","id":"swept-area-biomass","dir":"Articles","previous_headings":"","what":"Swept area biomass","title":"Usage","text":"Swept area biomass estimated particular regions interest. regions specified via shape files. shapefiles required sf (simple features) object. calculate swept area biomass one regions, say Georges Bank Spring: filterByArea value one values found areaDescription field shapefile return values TIDY format add tidy=T argument: visualize overlap survey data regions, first define coordinate reference system (crs) project points shapefile. Convert LAT LON coordinates WGS84 reference ellipsoid (crs = 4326)","code":"calc_swept_area(data$survdat,                 areaPolygon=areaPolygon,                 areaDescription=\"EPU\",                 filterByArea=\"GB\",                 filterBySeason = \"SPRING\") calc_swept_area(data$survdat,                 areaPolygon=areaPolygon,                 areaDescription=\"EPU\",                 filterByArea=\"GB\",                 filterBySeason = \"SPRING\",                 tidy=T) crs <- 4326 points <- sf::st_as_sf(data$survdat,                        coords=(\"LON\",\"LAT\"),                        crs=crs) # plot data with regions plot_data_area(points=data$survdat,                polygons=area,                crs)"},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sean Lucey. Author. Andy Beet. Author, maintainer.","code":""},{"path":"https://noaa-edab.github.io/survdat/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Lucey S, Beet (2025). survdat: Tools working NEFSC survey data. R package version 1.0, https://noaa-edab.github.io/survdat/, https://github.com/NOAA-EDAB/survdat.","code":"@Manual{,   title = {survdat: Tools for working with NEFSC survey data},   author = {Sean Lucey and Andy Beet},   year = {2025},   note = {R package version 1.0, https://noaa-edab.github.io/survdat/},   url = {https://github.com/NOAA-EDAB/survdat}, }"},{"path":[]},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Tools for working with NEFSC survey data","text":"use package need: behind NEFSC firewall Permissions access required server : username password. Oracle’s instant Client installed Oracle’s ROracle R package","code":""},{"path":"https://noaa-edab.github.io/survdat/index.html","id":"who-this-is-for","dir":"","previous_headings":"Usage","what":"Who this is for?","title":"Tools for working with NEFSC survey data","text":"Anyone looking raw tow level survey data format obtain Ecosystem Survey Branch (ESB) - still development Anyone looking Ecosystem/multispecies products derived tow level data. See vignettes explanation methods","code":""},{"path":"https://noaa-edab.github.io/survdat/index.html","id":"who-this-isnt-for","dir":"","previous_headings":"Usage","what":"Who this isn’t for!","title":"Tools for working with NEFSC survey data","text":"Anyone looking survey data directly input stock assessments. need either: Contact appropriate stock assessment scientist Visit Northeast Region Stock Assessment Support Materials Visit StockSMART web portal stocksmart R package housing data portal","code":""},{"path":"https://noaa-edab.github.io/survdat/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for working with NEFSC survey data","text":"","code":"remotes::install_github(\"NOAA-EDAB/survdat\")` pak::pak(\"NOAA-EDAB/survdat\")"},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/index.html","id":"legal-disclaimer","dir":"","previous_headings":"Developers (in alphabetical order)","what":"Legal disclaimer","title":"Tools for working with NEFSC survey data","text":"repository scientific product official communication National Oceanic Atmospheric Administration, United States Department Commerce. NOAA GitHub project code provided ‘’ basis user assumes responsibility use. claims Department Commerce Department Commerce bureaus stemming use GitHub project governed applicable Federal law. reference specific commercial products, processes, services service mark, trademark, manufacturer, otherwise, constitute imply endorsement, recommendation favoring Department Commerce. Department Commerce seal logo, seal logo DOC bureau, shall used manner imply endorsement commercial product activity DOC United States Government.  U.S. Department Commerce | National Oceanographic Atmospheric Administration | NOAA Fisheries","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/calc_stratified_mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate stratified mean — calc_stratified_mean","title":"Calculate stratified mean — calc_stratified_mean","text":"Calculates stratified mean. Details method found ...","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/calc_stratified_mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate stratified mean — calc_stratified_mean","text":"","code":"calc_stratified_mean(   surveyData,   areaPolygon = \"NEFSC strata\",   areaDescription = \"STRATA\",   filterByArea = \"all\",   filterBySeason,   groupDescription = \"SVSPP\",   filterByGroup = \"all\",   mergesexFlag = T,   tidy = F,   returnPrepData = F )"},{"path":"https://noaa-edab.github.io/survdat/reference/calc_stratified_mean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate stratified mean — calc_stratified_mean","text":"surveyData Data table. NEFSC survey data generated get_survdat_data.R areaPolygon sf object character string. Default = \"NEFSC strata\". default option uses survey strata shapefile bundled package. use shapefile stratification, shapefile must read sf object areaDescription argument must specified. areaDescription Character String. Column name areaPolygon contains strata designations. filterByArea Numeric vector. Set areas subset areaDescription areaPolygon. filterBySeason Character string. seasons surveyData included.  Choices include \"SPRING\", \"FALL\", \"\". groupDescription Character string. Column prepData contains groups (e.g. \"SVSPP\") means based. filterByGroup Character numeric vector. Set groups subset groupDescription.  default \"\" calculate means groups. mergesexFlag Boolean. Logical value merge sexed species dogfish. tidy Boolean. Return output long format (Default = F). returnPrepData Boolean. Return stratmeanData prepData list object. default (F) returns stratmeanData data.table.","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/calc_stratified_mean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate stratified mean — calc_stratified_mean","text":"data frame","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/calc_stratified_mean.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate stratified mean — calc_stratified_mean","text":"","code":"if (FALSE) { # \\dontrun{ # Pull data and apply conversion corrections data <- get_survdat_data(channel) # Calculate stratified mean for specific survey strata for the SPRING season calc_stratified_mean(surveyData=data$survdat, filterByArea=c(1220, 1240, 1260:1290,1360:1400),filterBySeason = \"SPRING\")  # Calculate stratified mean for area defined by EPU regions, for all seasons (\"SPRING\", \"FALL\") # Read in EPU shapefile (loaded as part of the package) area <- sf::st_read(dsn = system.file(\"extdata\",\"EPU.shp\",package=\"survdat\"),quiet=T) calc_stratified_mean(surveyData=data$survdat, areaPolygon=area, areaDescription=\"EPU\", filterByArea=\"all\",filterBySeason = \"all\")  } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/calc_swept_area.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate swept area biomass — calc_swept_area","title":"Calculate swept area biomass — calc_swept_area","text":"Calculates biomass. Details found ...","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/calc_swept_area.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate swept area biomass — calc_swept_area","text":"","code":"calc_swept_area(   surveyData,   areaPolygon = \"NEFSC strata\",   areaDescription = \"STRATA\",   filterByArea = \"all\",   filterBySeason,   groupDescription = \"SVSPP\",   filterByGroup = \"all\",   mergesexFlag = T,   tidy = F,   q = NULL,   a = 0.0384 )"},{"path":"https://noaa-edab.github.io/survdat/reference/calc_swept_area.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate swept area biomass — calc_swept_area","text":"surveyData Data table. NEFSC survey data generated get_survdat_data.R areaPolygon sf object character string. Default = \"NEFSC strata\". default option uses survey strata shapefile bundled package. use shapefile stratification, shapefile must read sf object areaDescription argument must specified. areaDescription Character String. Column name areaPolygon contains strata designations. filterByArea Numeric vector. Set areas subset areaDescription areaPolygon. filterBySeason Character string. seasons surveyData included.  Choices include \"SPRING\", \"FALL\", \"\". groupDescription Character string. Column prepData contains groups (e.g. \"SVSPP\") means based. filterByGroup Character numeric vector. Set groups subset groupDescription.  default \"\" calculate means groups. mergesexFlag Boolean. Logical value merge sexed species dogfish. tidy Boolean. Return output long format (Default = F). q Data frame. Table survey catchabilities column corresponding groupDescription column catchabilities.  NULL, assumes q 1 groupDescription (Minimum swept area estimates). Numeric. average swept area trawl.  Default value swept area standard NOAA Ship Albatross IV tow.","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/calc_swept_area.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate swept area biomass — calc_swept_area","text":"data frame","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/calc_swept_area.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate swept area biomass — calc_swept_area","text":"","code":"if (FALSE) { # \\dontrun{ # Pull data and apply conversion corrections data <- get_survdat_data(channel) # Calculate swept area biomass for specific survey strata for the SPRING season calc_swept_area(surveyData=data$survdat, filterByArea=c(1220, 1240, 1260:1290,1360:1400),filterBySeason = \"SPRING\")  # Calculate stratified mean for area defined by EPU regions, for all seasons (\"SPRING\", \"FALL\") and return in Tidy format # Read in EPU shapefile (loaded as part of the package) area <- sf::st_read(dsn = system.file(\"extdata\",\"EPU.shp\",package=\"survdat\"),quiet=T) calc_swept_area(surveyData=data$survdat, areaPolygon=area, areaDescription=\"EPU\", filterByArea=\"all\",filterBySeason = \"all\",tidy=T)  } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_area.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a table of stratum areas — get_area","title":"Generate a table of stratum areas — get_area","text":"Calculates area polygon shapefile.","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_area.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a table of stratum areas — get_area","text":"","code":"get_area(areaPolygon, areaDescription)"},{"path":"https://noaa-edab.github.io/survdat/reference/get_area.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a table of stratum areas — get_area","text":"areaPolygon sf object. Name object containing shapefile. areaDescription Character String. Column name areaPolygon contains strata designations.","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_area.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a table of stratum areas — get_area","text":"Returns data.table (nx2). STRATA name Region AREA area STRATA square kilometers","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_area.html","id":"coordinate-reference-system-crs-","dir":"Reference","previous_headings":"","what":"Coordinate reference system (CRS)","title":"Generate a table of stratum areas — get_area","text":"deafult CRS Lambert Conformal Conic denoted : \"+proj=lcc +lat_1=20 +lat_2=60 +lat_0=40 +lon_0=-72 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs +ellps=GRS80 +towgs84=0,0,0 \"","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_area.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a table of stratum areas — get_area","text":"","code":"if (FALSE) { # \\dontrun{ #Find the area of each Stratum in the strata.shp shapefile (bundled with the package) area <- sf::st_read(dsn=system.file(\"extdata\",\"strata.shp\",package=\"survdat\")) get_area(areaPolygon = area, areaDescription=\"STRATA\") } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_conversion_factors.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract CONVERSION FACTORS from SVDBS — get_conversion_factors","title":"Extract CONVERSION FACTORS from SVDBS — get_conversion_factors","text":"Extract list conversion factors SVDBS SURVAN_CONVERSION_FACTORS table","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_conversion_factors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract CONVERSION FACTORS from SVDBS — get_conversion_factors","text":"","code":"get_conversion_factors(channel)"},{"path":"https://noaa-edab.github.io/survdat/reference/get_conversion_factors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract CONVERSION FACTORS from SVDBS — get_conversion_factors","text":"channel Object inherited DBIConnection-class. object used connect communicate database engine. (see connect_to_database)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_conversion_factors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract CONVERSION FACTORS from SVDBS — get_conversion_factors","text":"list returned:  data containing result executed sql statement sql containing sql call colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_conversion_factors.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract CONVERSION FACTORS from SVDBS — get_conversion_factors","text":"Use data dictionary field name explanations","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_conversion_factors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract CONVERSION FACTORS from SVDBS — get_conversion_factors","text":"","code":"if (FALSE) { # \\dontrun{ # extracts complete CONVERSION FACTORS table channel <- dbutils::connect_to_database(server=\"serverName\",uid=\"userName\") get_conversion_factors(channel) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_cruise_purpose.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract CRUISE PURPOSE information from SVDBS — get_cruise_purpose","title":"Extract CRUISE PURPOSE information from SVDBS — get_cruise_purpose","text":"Extract list cruise purpose codes descriptions SVDBS SVSCRUISE_PURPOSE table","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_cruise_purpose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract CRUISE PURPOSE information from SVDBS — get_cruise_purpose","text":"","code":"get_cruise_purpose(channel)"},{"path":"https://noaa-edab.github.io/survdat/reference/get_cruise_purpose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract CRUISE PURPOSE information from SVDBS — get_cruise_purpose","text":"channel Object inherited DBIConnection-class. object used connect communicate database engine. (see connect_to_database)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_cruise_purpose.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract CRUISE PURPOSE information from SVDBS — get_cruise_purpose","text":"list returned:  data tibble containing result executed $sql statement sql containing sql call colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_cruise_purpose.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract CRUISE PURPOSE information from SVDBS — get_cruise_purpose","text":"Use data dictionary field name explanations","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_cruise_purpose.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract CRUISE PURPOSE information from SVDBS — get_cruise_purpose","text":"","code":"if (FALSE) { # \\dontrun{ # extracts complete sex table channel <- dbutils::connect_to_database(server=\"serverName\",uid=\"userName\") get_cruise_purpose(channel) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract species specific LENGTH-WEIGHT COEFFICIENTS from SVDBS — get_length_weight","title":"Extract species specific LENGTH-WEIGHT COEFFICIENTS from SVDBS — get_length_weight","text":"Pulls length-weight coefficients SVDBS.LENGTH_WEIGHT_COEFFICIENTS table coefficients described NOAA Tech Memo NMFS-NE-171.","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract species specific LENGTH-WEIGHT COEFFICIENTS from SVDBS — get_length_weight","text":"","code":"get_length_weight(channel)"},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract species specific LENGTH-WEIGHT COEFFICIENTS from SVDBS — get_length_weight","text":"channel Object inherited DBIConnection-class. object used communicate database engine.  (see connect_to_database)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract species specific LENGTH-WEIGHT COEFFICIENTS from SVDBS — get_length_weight","text":"Returns data.table (nx12). SVSPP standard code represents species caught trawl dredge. Refer SVDBS.SVSPECIES_LIST SVLWEXP exponent length-weight equation, b. SVLWCOEFF natural log coefficient length-weight equation, ln .","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Length and weight data from SVDBS — get_length_weight_data","title":"Extract Length and weight data from SVDBS — get_length_weight_data","text":"Extract list length weights species sampled nefsc surveys (spring fall) data extracted svdbs.union_fscs_svbio","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Length and weight data from SVDBS — get_length_weight_data","text":"","code":"get_length_weight_data(channel, year = 1994, species = \"all\", sex = \"all\")"},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Length and weight data from SVDBS — get_length_weight_data","text":"channel Object inherited DBIConnection-class. object used communicate database engine. (see connect_to_database) year Numeric character vector. Year(s) pull data . (Uses cruise6 field search year). Default = 1994. years use year = \"\" species Numeric vector. Survey code species (SVSPP codes). Defaults \"\" species. Numeric codes converted VARCHAR2(3 BYTE) creating sql statement. sex Character vector. Default = \"\". options \"M\" (male), \"F\" (female), \"U\" (unsexed)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Length and weight data from SVDBS — get_length_weight_data","text":"list 3 items data, sql, colNames data frame (data) (Descriptions taken NEFSC Data dictionary) CRUISE6 Code uniquely identifying cruise. first four digits indicate year last two digit uniquely identify cruise within year. 5th byte signifies cruises groundfish: Shrimp survey = 7 (.e. 201470), State Massachusetts survey = 9 (.e. 201491), Food habits = 5 (.e.199554) STRATUM predefined area net dredge, piece gear deployed. Code consists 2 parts: Stratum group code number (2 bytes) stratum number (3 bytes). Stratum group refers area fished inshore offshore North South Cape Hatteras type cruise (shellfish, State MA, offshore deepwater). stratum number (third fourth digits code) refers area defined depth zone. See SVDBS.SVMSTRATA. fifth digit code increases length stratum number revised strata Hague Line established. Stratum group code: 01 = Trawl, offshore north Hatteras; 02 = BIOM; 03 = Trawl, inshore north Hatteras; 04 = Shrimp; 05 = Scotian shelf; 06 = Shellfish; 07 = Trawl, inshore south Hatteras; 08 = Trawl, Offshore south Hatteras; 09 = MA DMF; 99 = Offshore deepwater (outside stratified area). change Bottom Trawl Stratum Gulf Maine-Bay Fundy effect since Spring 1987, may summarized follows: Previous strata: 01350; Present strata: 01351, 01352. TOW Sequential number representing order station selected within stratum. STATION Unique sequential order stations completed. Hangups short tows receive non-repeated consecutive number. SVSPP standard code represents species caught trawl dredge. Refer SVDBS.SVSPECIES_LIST SEASON Season year cruise conducted. SEX Code indicating sex fish invertebrate species. See SVDBS.FSCS_SEX_CODES using fscs data SVDBS.SEX_CODES using non FSCS data. Codes 0, 1, 2 4 valid codes fscs tables. INDID unique identifier fish sampled. LENGTH Measured length species centimeters (cm). Measure method differs species. INDWT Individual weight (KG) species sampled. STOM_WGT Stomach weight individual fish grams. STOM_VOLUME Volume stomach contents fish sampled, measured nearest tenth cubic centimeter (cc). MATURITY Stage maturation fish sampled. See SVDBS.FSCS_MATURITY_CODES sql statement sql containing sql call data frame listing columns table  colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight_data.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract Length and weight data from SVDBS — get_length_weight_data","text":"Note: species codes (SVSPP) stored database VARCHAR2(3 BYTE)","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_length_weight_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Length and weight data from SVDBS — get_length_weight_data","text":"","code":"if (FALSE) { # \\dontrun{ # extracts length-weight data for cod (73) for all years and sexes channel <- connect_to_database(server=\"servername\",uid=\"username\") codPull <- get_length_weight_data(channel,year = \"all\", species=73) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_maturity.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract MATURITY information from SVDBS — get_maturity","title":"Extract MATURITY information from SVDBS — get_maturity","text":"Extract list maturity codes descriptions SVDBS FSCS_MATURITY_CODES table","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_maturity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract MATURITY information from SVDBS — get_maturity","text":"","code":"get_maturity(channel)"},{"path":"https://noaa-edab.github.io/survdat/reference/get_maturity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract MATURITY information from SVDBS — get_maturity","text":"channel Object inherited DBIConnection-class. object used connect communicate database engine. (see connect_to_database)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_maturity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract MATURITY information from SVDBS — get_maturity","text":"list returned:  data containing result executed $sql statement sql containing sql call colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_maturity.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract MATURITY information from SVDBS — get_maturity","text":"Use data dictionary field name explanations","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_maturity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract MATURITY information from SVDBS — get_maturity","text":"","code":"if (FALSE) { # \\dontrun{ # extracts complete maturity table channel <- dbutils::connect_to_database(server=\"serverName\",uid=\"userName\") get_maturity(channel) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract SEX information from SVDBS — get_sex","title":"Extract SEX information from SVDBS — get_sex","text":"Extract list sex codes descriptions SVDBS.SEX_CODES table","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract SEX information from SVDBS — get_sex","text":"","code":"get_sex(channel)"},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract SEX information from SVDBS — get_sex","text":"channel Object inherited DBIConnection-class. object used connect communicate database engine. (see connect_to_database)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract SEX information from SVDBS — get_sex","text":"list returned:  data tibble containing result executed $sql statement sql containing sql call colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract SEX information from SVDBS — get_sex","text":"Use data dictionary field name explanations","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract SEX information from SVDBS — get_sex","text":"","code":"if (FALSE) { # \\dontrun{ # extracts complete sex table channel <- dbutils::connect_to_database(server=\"serverName\",uid=\"userName\") get_sex(channel) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex_fscs.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract SEX information from SVDBS — get_sex_fscs","title":"Extract SEX information from SVDBS — get_sex_fscs","text":"Extract list sex codes descriptions SVDBS.FSCS_SEX_CODES table","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex_fscs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract SEX information from SVDBS — get_sex_fscs","text":"","code":"get_sex_fscs(channel)"},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex_fscs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract SEX information from SVDBS — get_sex_fscs","text":"channel Object inherited DBIConnection-class. object used connect communicate database engine. (see connect_to_database)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex_fscs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract SEX information from SVDBS — get_sex_fscs","text":"list returned:  data tibble containing result executed $sql statement sql containing sql call colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex_fscs.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract SEX information from SVDBS — get_sex_fscs","text":"Use data dictionary field name explanations","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_sex_fscs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract SEX information from SVDBS — get_sex_fscs","text":"","code":"if (FALSE) { # \\dontrun{ # extracts complete sex table channel <- dbutils::connect_to_database(server=\"serverName\",uid=\"userName\") get_sex_fscs(channel) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_species.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract SPECIES information from SVDBS — get_species","title":"Extract SPECIES information from SVDBS — get_species","text":"Extract list speices names, code, market category, etc SVDBS SVSPECIES_LIST table","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_species.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract SPECIES information from SVDBS — get_species","text":"","code":"get_species(channel, species = \"all\")"},{"path":"https://noaa-edab.github.io/survdat/reference/get_species.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract SPECIES information from SVDBS — get_species","text":"channel Object inherited DBIConnection-class. object used connect communicate database engine. (see connect_to_database) species Numeric character vector. specific species code set codes. Default = \"\". Numeric codes converted VARCHAR2(3 BYTE) creating sql statement. Character codes short character strings.","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_species.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract SPECIES information from SVDBS — get_species","text":"list returned:  species containing result executed $sql statement sql containing sql call colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_species.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract SPECIES information from SVDBS — get_species","text":"Use data dictionary field name explanations Note: species codes (svspp) stored database VARCHAR2(3 BYTE)","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_species.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract SPECIES information from SVDBS — get_species","text":"","code":"if (FALSE) { # \\dontrun{ # extracts complete species table based on custom sql statement channel <- dbutils::connect_to_database(server=\"serverName\",uid=\"userName\") get_species(channel)  # extracts info for cod (73) get_species(channel,species=73) get_species(channel,\"cod\") get_species(channel,\"co\") get_species(channel,\"COD\")  # extracts info for cod (73)  and bluefish (135) get_species(channel,species= c(\"73\",\"135\")) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_strata.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract STRATA information from SVDBS — get_strata","title":"Extract STRATA information from SVDBS — get_strata","text":"Extract STRATA information SVDBS.SVMSTRATA table","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_strata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract STRATA information from SVDBS — get_strata","text":"","code":"get_strata(channel, strata = \"all\")"},{"path":"https://noaa-edab.github.io/survdat/reference/get_strata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract STRATA information from SVDBS — get_strata","text":"channel Object inherited DBIConnection-class. object used connect communicate database engine. (see connect_to_database) strata Numeric character vector. Set strata codes. Default = \"\". Numeric codes converted VARCHAR2(5 BYTE) creating sql statement. Alternatively enter name stratum","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_strata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract STRATA information from SVDBS — get_strata","text":"list returned:  species containing result executed $sql statement sql containing sql call colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_strata.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract STRATA information from SVDBS — get_strata","text":"Use data dictionary field name explanations","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_strata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract STRATA information from SVDBS — get_strata","text":"","code":"if (FALSE) { # \\dontrun{ # extracts complete strata table channel <- dbutils::connect_to_database(server=\"serverName\",uid=\"userName\") get_strata(channel)  # extracts info for a single stratum get_strata(channel,strata=6940) get_strata(channel,strata=\"6940\") get_strata(channel,\"SNE BLOCK ISLAND\") get_strata(channel,\"SNE Block Island\")  # extracts multiple strata get_strata(channel,strata= c(6940,6400,6380)) get_strata(channel,strata=c(\"6940\",\"6400\",\"6380\")) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_clam_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extracts Clam data from Survey Database — get_survdat_clam_data","title":"Extracts Clam data from Survey Database — get_survdat_clam_data","text":"Connects svdbs pulls Clam & Quahog data MSTR_CRUISE, UNION_FSCS_SVCAT, UNION_FSCS_SVLEN, UNION_FSCS_SVSTA. Pulls Cruises purpose code = 50. (See get_cruise_purpose). Data assigned one 7 regions ('SVA', 'DMV', 'SNJ', 'NNJ', 'LI', 'SNE', 'GB') length--meat weight conversions applied","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_clam_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extracts Clam data from Survey Database — get_survdat_clam_data","text":"","code":"get_survdat_clam_data(   channel,   shg.check = T,   clam.only = T,   tidy = F,   assignRegionWeights = T )"},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_clam_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extracts Clam data from Survey Database — get_survdat_clam_data","text":"channel Object inherited DBIConnection-class. object used communicate database engine. (see connect_to_database) shg.check Boolean. use SHG <=136 TOGA <= 1324 (>2008). (Default = T) clam.Boolean. T = grab Atl. surfclam (403) ocean quahog (409) tidy Boolean. Return output long format (Default = F) assignRegionWeights Boolean. Assign Strata Regions apply length weight coefficients. Currently hard coded Survey strata prior 2017. (Default = T).","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_clam_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extracts Clam data from Survey Database — get_survdat_clam_data","text":"list containing Data frame (data.table) (n x 21) list SQL queries used pull data, date pull, call expression row data.table represents number length species specific tow along physical attributes tow. data frame (Descriptions taken NEFSC Data dictionary) clam.region One 7 identified Regions, 'SVA', 'DMV', 'SNJ', 'NNJ', 'LI', 'SNE', 'GB' CRUISE6 Code uniquely identifying cruise. first four digits indicate year last two digit uniquely identify cruise within year. 5th byte signifies cruises groundfish: Shrimp survey = 7 (.e. 201470), State Massachusetts survey = 9 (.e. 201491), Food habits = 5 (.e.199554) STATION Unique sequential order stations completed. Hangups short tows receive non-repeated consecutive number. STRATUM predefined area net dredge, piece gear deployed. Code consists 2 parts: Stratum group code number (2 bytes) stratum number (3 bytes). Stratum group refers area fished inshore offshore North South Cape Hatteras type cruise (shellfish, State MA, offshore deepwater). stratum number (third fourth digits code) refers area defined depth zone. See SVDBS.SVMSTRATA. fifth digit code increases length stratum number revised strata Hague Line established. Stratum group code: 01 = Trawl, offshore north Hatteras; 02 = BIOM; 03 = Trawl, inshore north Hatteras; 04 = Shrimp; 05 = Scotian shelf; 06 = Shellfish; 07 = Trawl, inshore south Hatteras; 08 = Trawl, Offshore south Hatteras; 09 = MA DMF; 99 = Offshore deepwater (outside stratified area). change Bottom Trawl Stratum Gulf Maine-Bay Fundy effect since Spring 1987, may summarized follows: Previous strata: 01350; Present strata: 01351, 01352. SVSPP standard code represents species caught trawl dredge. Refer SVDBS.SVSPECIES_LIST CATCHSEX Code used identify species sexed catch level. See SVDBS.SEX_CODES SVVESSEL Standard two character code survey vessel. Refer SVDBS.SV_VESSEL YEAR Year cruise conducted. LAT Beginning latitude tow decimal degrees.(DECDEG_BEGLAT) LON Beginning longitude tow decimal degrees.(DECDEG_BEGLON) DEPTH four digit number recording average depth, nearest meter, survey gear deployment.(AVGDEPTH) SURFTEMP Surface temperature water (degrees Celcius). SURFSALIN Salinity water surface practical salinity units (PSU). BOTTEMP Bottom temperature (degrees Celsius). BOTSALIN Bottom salinity Practical Salinity Units (PSU). ABUNDANCE Expanded number individuals species caught given station.(EXPCATCHNUM) BIOMASS Expanded catch weight species caught given station. (EXPCATCHWT) LENGTH Measured length species centimeters (cm). Measure method differs species. NUMLEN Expanded number specimens given length.(EXPNUMLEN) BIOMASS.MW Meat weight catch based LENGTH NUMLEN clams, conversion factors hard coded list sql statements: cruise Select unique list cruises. Table = MSTR_CRUISE station Select unique set stations result cruise. Table = UNION_FSCS_SVSTA catch Select species abundance biomass data result station. Table = UNION_FSCS_SVCAT length Select Lengths species found catch. Table = UNION_FSCS_SVLEN date:  pullDate date data pulled database expression: functionCall call used create data pul","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_clam_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extracts Clam data from Survey Database — get_survdat_clam_data","text":"","code":"if (FALSE) { # \\dontrun{ # Recommended use: channel <- dbutils::connect_to_database(\"serverName\",\"userName\") get_survdat_clam_data(channel)  } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extracts Survey data from Database — get_survdat_data","title":"Extracts Survey data from Database — get_survdat_data","text":"Connects svdbs pulls data MSTR_CRUISE, UNION_FSCS_SVCAT, UNION_FSCS_SVLEN, UNION_FSCS_SVSTA, UNION_FSCS_SVBIO","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extracts Survey data from Database — get_survdat_data","text":"","code":"get_survdat_data(   channel,   filterByYear = NA,   all.season = F,   shg.check = T,   conversion.factor = T,   use.SAD = F,   getBio = F,   getLengths = T,   getWeightLength = F )"},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extracts Survey data from Database — get_survdat_data","text":"channel Object inherited DBIConnection-class. object used communicate database engine.  (see connect_to_database) filterByYear Numeric vector. Subset years pull data. specified years pulled. (Default = NA) .season Boolean. Spring Fall (F) otherwise T. (Default = F) shg.check Boolean. use SHG <=136 TOGA <= 1324 (>2008). (Default = T) conversion.factor Boolean. Whether apply conversion factors data pull, (Default = T) use.SAD Boolean. Use Survey Analysis Database (SAD) assessed species. (Default = F) getBio Boolean. Include biology data fish weight, sex, stomach weight, stomach volume, age, maturity getLengths Boolean. Include length data includes length cm number length. (Default = T) getWeightLength Boolean. Include weight length applying length weight coefficients SVDBS. (Default = F)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extracts Survey data from Database — get_survdat_data","text":"list containing Data frame (data.table) (n x 21), list SQL queries used pull data, date pull, call expression. row data.table represents number length species specific tow along physical attributes tow. data frame (Descriptions taken NEFSC Data dictionary) CRUISE6 Code uniquely identifying cruise. first four digits indicate year last two digit uniquely identify cruise within year. 5th byte signifies cruises groundfish: Shrimp survey = 7 (.e. 201470), State Massachusetts survey = 9 (.e. 201491), Food habits = 5 (.e.199554) STATION Unique sequential order stations completed. Hangups short tows receive non-repeated consecutive number. STRATUM predefined area net dredge, piece gear deployed. Code consists 2 parts: Stratum group code number (2 bytes) stratum number (3 bytes). Stratum group refers area fished inshore offshore North South Cape Hatteras type cruise (shellfish, State MA, offshore deepwater). stratum number (third fourth digits code) refers area defined depth zone. See SVDBS.SVMSTRATA. fifth digit code increases length stratum number revised strata Hague Line established. Stratum group code: 01 = Trawl, offshore north Hatteras; 02 = BIOM; 03 = Trawl, inshore north Hatteras; 04 = Shrimp; 05 = Scotian shelf; 06 = Shellfish; 07 = Trawl, inshore south Hatteras; 08 = Trawl, Offshore south Hatteras; 09 = MA DMF; 99 = Offshore deepwater (outside stratified area). change Bottom Trawl Stratum Gulf Maine-Bay Fundy effect since Spring 1987, may summarized follows: Previous strata: 01350; Present strata: 01351, 01352. TOW Sequential number representing order station selected within stratum. SVSPP standard code represents species caught trawl dredge. Refer SVDBS.SVSPECIES_LIST CATCHSEX Code used identify species sexed catch level. See SVDBS.SEX_CODES SVVESSEL Standard two character code survey vessel. Refer SVDBS.SV_VESSEL YEAR Year cruise conducted. SEASON Season year cruise conducted. LAT Beginning latitude tow decimal degrees.(DECDEG_BEGLAT) LON Beginning longitude tow decimal degrees.(DECDEG_BEGLON) EST_TOWDATE Date time represented Eastern Standard Time (EST) start tow deployment.(BEGIN_EST_TOWDATE) DEPTH four digit number recording average depth, nearest meter, survey gear deployment.(AVGDEPTH) SURFTEMP Surface temperature water (degrees Celcius). SURFSALIN Salinity water surface practical salinity units (PSU). BOTTEMP Bottom temperature (degrees Celsius). BOTSALIN Bottom salinity Practical Salinity Units (PSU). ABUNDANCE Expanded number individuals species caught given station.(EXPCATCHNUM) BIOMASS Expanded catch weight species caught given station. (EXPCATCHWT) Additional Columns getLengths = T (UNION_FSCS_SVLEN) LENGTH Measured length species centimeters (cm). Measure method differs species. NUMLEN Expanded number specimens given length.(EXPNUMLEN) Additional Columns getWeightLength = T PREDWT Predicted weight given length based length-weight coefficients. WGTLEN Predicted total weight given number fish observed given length Additional columns bio = T (UNION_FSCS_SVBIO) INDID unique identifier fish sampled. INDWT Individual weight (KG) species sampled. SEX Code indicating sex fish invertebrate species. See SVDBS.FSCS_SEX_CODES using fscs data SVDBS.SEX_CODES using non FSCS data. Codes 0, 1, 2 4 valid codes fscs tables. MATURITY Stage maturation fish sampled. See SVDBS.FSCS_MATURITY_CODES AGE Age specimen years. STOM_VOLUME Volume stomach contents fish sampled, measured nearest tenth cubic centimeter (cc). STOM_WGT Stomach weight individual fish grams. list sql statements: cruise Select unique list cruises. Table = MSTR_CRUISE station Select unique set stations result cruise. Table = UNION_FSCS_SVSTA catch Select species abundance biomass data result station. Table = UNION_FSCS_SVCAT length Select Lengths species found catch. Table = UNION_FSCS_SVLEN sad Select ????? Survey Analysis Database. Table = STOCKEFF.I_SV_MERGED_CATCH_CALIB_O conversions Select conversion factors. Table = SURVAN_CONVERSION_FACTORS bio Select bio stats. Table = UNION_FSCS_SVBIO date: pullDate date data pulled database expression: functionCall call used create data pull version: version version survdat used pull data","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extracts Survey data from Database — get_survdat_data","text":"","code":"if (FALSE) { # \\dontrun{ # First create a connection object to the database channel <- dbutils::connect_to_database(\"serverName\",\"userName\") # pull survey data, applies conversion factors (Door, net, vessel) and join with # biological data to return individual sex, age, maturity, stomach data get_survdat_data(channel,conversion.factor = T, bio=T)  # Same data pull without individual biological data get_survdat_data(channel,conversion.factor = T, bio=F) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_scallop_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extracts Scallop Survey data from Database — get_survdat_scallop_data","title":"Extracts Scallop Survey data from Database — get_survdat_scallop_data","text":"Connects svdbs pulls data MSTR_CRUISE, UNION_FSCS_SVCAT, UNION_FSCS_SVLEN, UNION_FSCS_SVSTA, UNION_FSCS_SVBIO","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_scallop_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extracts Scallop Survey data from Database — get_survdat_scallop_data","text":"","code":"get_survdat_scallop_data(   channel,   filterByYear = NA,   shg.check = T,   getLengths = T,   getWeightLength = F,   scallopOnly = T )"},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_scallop_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extracts Scallop Survey data from Database — get_survdat_scallop_data","text":"channel Object inherited DBIConnection-class. object used communicate database engine. (see connect_to_database) filterByYear Numeric vector. Subset years pull data. specified years pulled. (Default = NA) shg.check Boolean. use SHG <=136 TOGA <= 1324 (>2008). (Default = T) getLengths Boolean. Include length data includes length cm number length. (Default = T) getWeightLength Boolean. Include weight length applying length weight coefficients SVDBS. (Default = F) scallopOnly Boolean. Include sea scallop catch. (Default = T)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_scallop_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extracts Scallop Survey data from Database — get_survdat_scallop_data","text":"list containing Data frame (data.table) (n x 21), list SQL queries used pull data, date pull, call expression row data.table represents number length species specific tow along physical attributes tow. data frame (Descriptions taken NEFSC Data dictionary) CRUISE6 Code uniquely identifying cruise. first four digits indicate year last two digit uniquely identify cruise within year. 5th byte signifies cruises groundfish: Shrimp survey = 7 (.e. 201470), State Massachusetts survey = 9 (.e. 201491), Food habits = 5 (.e.199554) STATION Unique sequential order stations completed. Hangups short tows receive non-repeated consecutive number. STRATUM predefined area net dredge, piece gear deployed. Code consists 2 parts: Stratum group code number (2 bytes) stratum number (3 bytes). Stratum group refers area fished inshore offshore North South Cape Hatteras type cruise (shellfish, State MA, offshore deepwater). stratum number (third fourth digits code) refers area defined depth zone. See SVDBS.SVMSTRATA. fifth digit code increases length stratum number revised strata Hague Line established. Stratum group code: 01 = Trawl, offshore north Hatteras; 02 = BIOM; 03 = Trawl, inshore north Hatteras; 04 = Shrimp; 05 = Scotian shelf; 06 = Shellfish; 07 = Trawl, inshore south Hatteras; 08 = Trawl, Offshore south Hatteras; 09 = MA DMF; 99 = Offshore deepwater (outside stratified area). change Bottom Trawl Stratum Gulf Maine-Bay Fundy effect since Spring 1987, may summarized follows: Previous strata: 01350; Present strata: 01351, 01352. TOW Sequential number representing order station selected within stratum. SVSPP standard code represents species caught trawl dredge. Refer SVDBS.SVSPECIES_LIST CATCHSEX Code used identify species sexed catch level. See SVDBS.SEX_CODES SVVESSEL Standard two character code survey vessel. Refer SVDBS.SV_VESSEL YEAR Year cruise conducted. SEASON Season year cruise conducted. LAT Beginning latitude tow decimal degrees.(DECDEG_BEGLAT) LON Beginning longitude tow decimal degrees.(DECDEG_BEGLON) EST_TOWDATE Date time represented Eastern Standard Time (EST) start tow deployment.(BEGIN_EST_TOWDATE) DEPTH four digit number recording average depth, nearest meter, survey gear deployment.(AVGDEPTH) SURFTEMP Surface temperature water (degrees Celcius). SURFSALIN Salinity water surface practical salinity units (PSU). BOTTEMP Bottom temperature (degrees Celsius). BOTSALIN Bottom salinity Practical Salinity Units (PSU). ABUNDANCE Expanded number individuals species caught given station.(EXPCATCHNUM) BIOMASS Expanded catch weight species caught given station. (EXPCATCHWT) LENGTH Measured length species centimeters (cm). Measure method differs species. NUMLEN Expanded number specimens given length.(EXPNUMLEN) Additional columns bio = T (UNION_FSCS_SVBIO) INDID unique identifier fish sampled. INDWT Individual weight (KG) species sampled. SEX Code indicating sex fish invertebrate species. See SVDBS.FSCS_SEX_CODES using fscs data SVDBS.SEX_CODES using non FSCS data. Codes 0, 1, 2 4 valid codes fscs tables. MATURITY Stage maturation fish sampled. See SVDBS.FSCS_MATURITY_CODES AGE Age specimen years. STOM_VOLUME Volume stomach contents fish sampled, measured nearest tenth cubic centimeter (cc). STOM_WGT Stomach weight individual fish grams. list sql statements: cruise Select unique list cruises. Table = MSTR_CRUISE station Select unique set stations result cruise. Table = UNION_FSCS_SVSTA catch Select species abundance biomass data result station. Table = UNION_FSCS_SVCAT length Select Lengths species found catch. Table = UNION_FSCS_SVLEN sad Select ????? Survey Analysis Database. Table = STOCKEFF.I_SV_MERGED_CATCH_CALIB_O conversions Select conversion factors. Table = SURVAN_CONVERSION_FACTORS bio Select bio stats. Table = UNION_FSCS_SVBIO date:  pullDate date data pulled database expression: functionCall call used create data pul","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_survdat_scallop_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extracts Scallop Survey data from Database — get_survdat_scallop_data","text":"","code":"if (FALSE) { # \\dontrun{ # First create a connection object to the database channel <- dbutils::connect_to_database(\"serverName\",\"userName\") # pull survey data, applies conversion factors (Door, net, vessel) and join with # biological data to return individual sex, age, maturity, stomach data get_survdat_data(channel,conversion.factor = T, bio=T)  # Same data pull without individual biological data get_survdat_data(channel,conversion.factor = T, bio=F) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/get_vessel.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract VESSEL information from SVDBS — get_vessel","title":"Extract VESSEL information from SVDBS — get_vessel","text":"Extract list sex codes descriptions SVDBS SV_VESSEL table","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_vessel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract VESSEL information from SVDBS — get_vessel","text":"","code":"get_vessel(channel)"},{"path":"https://noaa-edab.github.io/survdat/reference/get_vessel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract VESSEL information from SVDBS — get_vessel","text":"channel Object inherited DBIConnection-class. object used connect communicate database engine. (see connect_to_database)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_vessel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract VESSEL information from SVDBS — get_vessel","text":"list returned:  data tibble containing result executed $sql statement sql containing sql call colNames vector table's column names","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/get_vessel.html","id":"reference","dir":"Reference","previous_headings":"","what":"Reference","title":"Extract VESSEL information from SVDBS — get_vessel","text":"Use data dictionary field name explanations","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/get_vessel.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract VESSEL information from SVDBS — get_vessel","text":"","code":"if (FALSE) { # \\dontrun{ # extracts complete vessel table channel <- dbutils::connect_to_database(server=\"serverName\",uid=\"userName\") get_vessel(channel) } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/plot_data_area.html","id":null,"dir":"Reference","previous_headings":"","what":"Plots survey data and shapefile — plot_data_area","title":"Plots survey data and shapefile — plot_data_area","text":"Quick plot shape file overlaid lat, lon data.","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/plot_data_area.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plots survey data and shapefile — plot_data_area","text":"","code":"plot_data_area(points, polygons, crs = 4269)"},{"path":"https://noaa-edab.github.io/survdat/reference/plot_data_area.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plots survey data and shapefile — plot_data_area","text":"points Data frame. Survdat data points (Must include \"LAT\" \"LON\" fields) polygons sf object. polygons (shapefile) crs Character string. Defines coordinate reference system projection","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/plot_data_area.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plots survey data and shapefile — plot_data_area","text":"figure","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/plot_data_area.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plots survey data and shapefile — plot_data_area","text":"","code":"if (FALSE) { # \\dontrun{  # Plot 2019 bottomline survey data with EPU regions # Read in shapefile area <- sf::st_read(dsn = system.file(\"extdata\",\"EPU.shp\",package=\"survdat\"),quiet=T)  # Get data data <- get_survdat_Data(channel) # Filter 2019 data filteredData <- data$survdat %>% dplyr::filter(YEAR == 2019) plot_data_area(points= filteredData,polygons = area)  } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/plot_shapefile.html","id":null,"dir":"Reference","previous_headings":"","what":"Plots shapefile — plot_shapefile","title":"Plots shapefile — plot_shapefile","text":"Plots shapefile","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/plot_shapefile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plots shapefile — plot_shapefile","text":"","code":"plot_shapefile(polygons, crs = 4269, filterPolygons = NULL)"},{"path":"https://noaa-edab.github.io/survdat/reference/plot_shapefile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plots shapefile — plot_shapefile","text":"polygons sf object. polygons (shapefile) crs Character string. Defines coordinate reference system projection. Default = 4269 (NAD83) filterPolygons Numeric Vector. (Default = NULL) Set polygons plot differnt color","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/plot_shapefile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plots shapefile — plot_shapefile","text":"figure","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/plot_shapefile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plots shapefile — plot_shapefile","text":"","code":"if (FALSE) { # \\dontrun{  # Read in shapefile area <- sf::st_read(dsn = system.file(\"extdata\",\"strata.shp\",package=\"survdat\"),quiet=T) plot_shapefile(polygons=area)  # Plots shapefile and highlights GB region GB  <- c(1090, 1130:1210, 1230, 1250, 3460, 3480, 3490, 3520:3550) plot_shapefile(polygons=area,filterPolygons = GB)  } # }"},{"path":"https://noaa-edab.github.io/survdat/reference/sampleBio.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data pull with spcies specific biological data — sampleBio","title":"Sample data pull with spcies specific biological data — sampleBio","text":"get_survdat_data(channel, getLengths = T, getWeightLength = F, conversion.factor = F, getBio = T)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/sampleBio.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data pull with spcies specific biological data — sampleBio","text":"","code":"sampleBio"},{"path":"https://noaa-edab.github.io/survdat/reference/sampleBio.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data pull with spcies specific biological data — sampleBio","text":"data frame n rows m variables","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/sampleLengthWeight.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data pull with species lengths and predicted weights — sampleLengthWeight","title":"Sample data pull with species lengths and predicted weights — sampleLengthWeight","text":"get_survdat_data(channel, getLengths=F, getWeightLength = T, conversion.factor=F)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/sampleLengthWeight.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data pull with species lengths and predicted weights — sampleLengthWeight","text":"","code":"sampleLengthWeight"},{"path":"https://noaa-edab.github.io/survdat/reference/sampleLengthWeight.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data pull with species lengths and predicted weights — sampleLengthWeight","text":"data frame n rows m variables","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/sampleLengths.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample data pull with species lengths — sampleLengths","title":"Sample data pull with species lengths — sampleLengths","text":"get_survdat_data(channel, getLengths=T, conversion.factor=F)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/sampleLengths.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample data pull with species lengths — sampleLengths","text":"","code":"sampleLengths"},{"path":"https://noaa-edab.github.io/survdat/reference/sampleLengths.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample data pull with species lengths — sampleLengths","text":"data frame n rows m variables","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/sampleRaw.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample raw data pull — sampleRaw","title":"Sample raw data pull — sampleRaw","text":"get_survdat_data(channel, getLengths=F,conversion.factor=F)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/sampleRaw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample raw data pull — sampleRaw","text":"","code":"sampleRaw"},{"path":"https://noaa-edab.github.io/survdat/reference/sampleRaw.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample raw data pull — sampleRaw","text":"data frame n rows m variables","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/sampleRawWithConversion.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample raw data pull with conversion factors applied — sampleRawWithConversion","title":"Sample raw data pull with conversion factors applied — sampleRawWithConversion","text":"get_survdat_data(channel, getLengths = F, conversion.factor = T)","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/sampleRawWithConversion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample raw data pull with conversion factors applied — sampleRawWithConversion","text":"","code":"sampleRawWithConversion"},{"path":"https://noaa-edab.github.io/survdat/reference/sampleRawWithConversion.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Sample raw data pull with conversion factors applied — sampleRawWithConversion","text":"data frame n rows m variables","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/survdat-package.html","id":null,"dir":"Reference","previous_headings":"","what":"survdat: Pull and process Survey data — survdat-package","title":"survdat: Pull and process Survey data — survdat-package","text":"Tools aid extraction survey data svdbs database","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/survdat-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"survdat: Pull and process Survey data — survdat-package","text":"Pulls bottom trawl survey data svdbs Applies corrections data based changes gear ships Partitions data based user supplied geospatial data Estimates biomass species Helper functions explain species, maturity, strata,vessel, sex codes Pulls length-weight data /coefficients","code":""},{"path":"https://noaa-edab.github.io/survdat/reference/survdat-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"survdat: Pull and process Survey data — survdat-package","text":"learn using survdat, start vignette: browseVignettes(package=\"survdat\") click index ","code":""},{"path":[]},{"path":"https://noaa-edab.github.io/survdat/reference/survdat-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"survdat: Pull and process Survey data — survdat-package","text":"Maintainer: Andy Beet andrew.beet@NOAA.gov (ORCID) Authors: Sean Lucey Sean.Lucey@NOAA.gov","code":""},{"path":"https://noaa-edab.github.io/survdat/news/index.html","id":"survdat-10","dir":"Changelog","previous_headings":"","what":"survdat 1.0","title":"survdat 1.0","text":"Benchmark release","code":""}]
