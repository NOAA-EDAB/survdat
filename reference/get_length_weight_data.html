<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extract Length and weight data from SVDBS — get_length_weight_data • survdat</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extract Length and weight data from SVDBS — get_length_weight_data"><meta property="og:description" content="Extract a list of length and weights for species sampled in nefsc surveys (spring and fall)
This data is extracted from svdbs.union_fscs_svbio"><meta property="og:image" content="https://noaa-edab.github.io/survdat/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">survdat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/survdat.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Introduction</li>
    <li>
      <a href="../articles/surveyDesign.html">Survey design</a>
    </li>
    <li>
      <a href="../articles/pullingData.html">Pulling the data</a>
    </li>
    <li>
      <a href="../articles/lookupTables.html">Lookup tables</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Methodology</li>
    <li>
      <a href="../articles/methodology.html">Estimating Biomass</a>
    </li>
    <li>
      <a href="../articles/calc_Strat_mean.html">Estimating stratified mean</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/NOAA-EDAB/survdat/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extract Length and weight data from SVDBS</h1>
    <small class="dont-index">Source: <a href="https://github.com/NOAA-EDAB/survdat/blob/master/R/get_length_weight_data.R" class="external-link"><code>R/get_length_weight_data.R</code></a></small>
    <div class="hidden name"><code>get_length_weight_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Extract a list of length and weights for species sampled in nefsc surveys (spring and fall)
This data is extracted from svdbs.union_fscs_svbio</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_length_weight_data</span><span class="op">(</span><span class="va">channel</span>, year <span class="op">=</span> <span class="fl">1994</span>, species <span class="op">=</span> <span class="st">"all"</span>, sex <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-channel">channel<a class="anchor" aria-label="anchor" href="#arg-channel"></a></dt>
<dd><p>an Object inherited from <a href="https://dbi.r-dbi.org/reference/DBIConnection-class.html" class="external-link">DBIConnection-class</a>.
This object is used to communicate with the database engine. (see <code>connect_to_database</code>)</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>Numeric or character vector. The Year(s) to pull data for. (Uses the cruise6 field to search for year). Default = 1994. For all years use year = "all"</p></dd>


<dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>Numeric vector. Survey code for species (SVSPP codes). Defaults to "all" species.
Numeric codes are converted to VARCHAR2(3 BYTE) when creating the sql statement.</p></dd>


<dt id="arg-sex">sex<a class="anchor" aria-label="anchor" href="#arg-sex"></a></dt>
<dd><p>Character vector. Default = "all". options "M" (male), "F" (female), "U" (unsexed)</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of 3 items <code>data</code>, <code>sql</code>, <code>colNames</code></p>
<p>The data frame (<code>data</code>) (Descriptions taken from NEFSC Data dictionary)</p>
<dl><dt>CRUISE6</dt>
<dd><p>Code uniquely identifying cruise. The first four digits indicate the year and the last two digit uniquely identify the cruise within the year. The 5th byte signifies cruises other than groundfish: Shrimp survey = 7 (i.e. 201470), State of Massachusetts survey = 9 (i.e. 201491), Food habits = 5 (i.e.199554)</p></dd>

<dt>STRATUM</dt>
<dd><p>A predefined area where a net dredge, or other piece of gear was deployed. Code consists of 2 parts: Stratum group code number (2 bytes) and stratum number (3 bytes). Stratum group refers to if area fished is inshore or offshore North or South of Cape Hatteras or the type of cruise (shellfish, State of MA, offshore deepwater). The stratum number (third and fourth digits of code) refers to area defined by depth zone. See SVDBS.SVMSTRATA. The fifth digit of the code increases the length of the stratum number for revised strata after the Hague Line was established. Stratum group code: 01 = Trawl, offshore north of Hatteras; 02 = BIOM; 03 = Trawl, inshore north of Hatteras; 04 = Shrimp; 05 = Scotian shelf; 06 = Shellfish; 07 = Trawl, inshore south of Hatteras; 08 = Trawl, Offshore south of Hatteras; 09 = MA DMF; 99 = Offshore deepwater (outside the stratified area). A change in Bottom Trawl Stratum for the Gulf of Maine-Bay of Fundy has been in effect since Spring 1987, and may be summarized as follows: Previous strata: 01350; Present strata: 01351, 01352.</p></dd>

<dt>TOW</dt>
<dd><p>Sequential number representing order in which station was selected within a stratum.</p></dd>

<dt>STATION</dt>
<dd><p>Unique sequential order in which stations have been completed. Hangups and short tows each receive a non-repeated consecutive number.</p></dd>

<dt>SVSPP</dt>
<dd><p>A standard code which represents a species caught in a trawl or dredge. Refer to the SVDBS.SVSPECIES_LIST</p></dd>

<dt>SEASON</dt>
<dd><p>Season of the year in which cruise was conducted.</p></dd>

<dt>SEX</dt>
<dd><p>Code indicating sex of fish or invertebrate species. See SVDBS.FSCS_SEX_CODES if using fscs data and SVDBS.SEX_CODES if using non FSCS data. Codes 0, 1, 2 and 4 are the only valid codes in fscs tables.</p></dd>

<dt>INDID</dt>
<dd><p>A unique identifier for each fish sampled.</p></dd>

<dt>LENGTH</dt>
<dd><p>Measured length of species in centimeters (cm). Measure method differs by species.</p></dd>

<dt>INDWT</dt>
<dd><p>Individual weight (KG) of species being sampled.</p></dd>

<dt>STOM_WGT</dt>
<dd><p>Stomach weight of an individual fish in grams.</p></dd>

<dt>STOM_VOLUME</dt>
<dd><p>Volume of the stomach contents of the fish sampled, measured to the nearest tenth of a cubic centimeter (cc).</p></dd>

<dt>MATURITY</dt>
<dd><p>Stage of maturation of the fish being sampled. See SVDBS.FSCS_MATURITY_CODES</p></dd>


</dl><p>The sql statement</p>
<dl><dt>sql</dt>
<dd><p>containing the sql call</p></dd>


</dl><p>The data frame listing all columns in the table</p>
<p></p>
<dl><dt>colNames</dt>
<dd><p>a vector of the table's column names</p></dd>

</dl></div>
    <div id="reference">
    <h2>Reference</h2>



<p>Note: species codes (SVSPP) are stored in the database as VARCHAR2(3 BYTE)</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>connect_to_database</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># extracts length-weight data for cod (73) for all years and sexes</span></span></span>
<span class="r-in"><span><span class="va">channel</span> <span class="op">&lt;-</span> <span class="fu">connect_to_database</span><span class="op">(</span>server<span class="op">=</span><span class="st">"servername"</span>,uid<span class="op">=</span><span class="st">"username"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">codPull</span> <span class="op">&lt;-</span> <span class="fu">get_length_weight_data</span><span class="op">(</span><span class="va">channel</span>,year <span class="op">=</span> <span class="st">"all"</span>, species<span class="op">=</span><span class="fl">73</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sean Lucey, Andy Beet.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

