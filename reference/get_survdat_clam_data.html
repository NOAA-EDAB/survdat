<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Extracts Clam data from Survey Database — get_survdat_clam_data • survdat</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Extracts Clam data from Survey Database — get_survdat_clam_data"><meta property="og:description" content="Connects to svdbs and pulls Clam &amp;amp; Quahog data from MSTR_CRUISE, UNION_FSCS_SVCAT, UNION_FSCS_SVLEN, UNION_FSCS_SVSTA.
Pulls from Cruises with purpose code = 50. (See get_cruise_purpose). Data are assigned to one of 7 regions
('SVA', 'DMV', 'SNJ', 'NNJ', 'LI', 'SNE', 'GB') and length-to-meat weight conversions applied"><meta property="og:image" content="https://noaa-edab.github.io/survdat/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">survdat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/survdat.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Introduction</li>
    <li>
      <a href="../articles/surveyDesign.html">Survey design</a>
    </li>
    <li>
      <a href="../articles/pullingData.html">Pulling the data</a>
    </li>
    <li>
      <a href="../articles/lookupTables.html">Lookup tables</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Methodology</li>
    <li>
      <a href="../articles/methodology.html">Estimating Biomass</a>
    </li>
    <li>
      <a href="../articles/calc_Strat_mean.html">Estimating stratified mean</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/NOAA-EDAB/survdat/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extracts Clam data from Survey Database</h1>
    <small class="dont-index">Source: <a href="https://github.com/NOAA-EDAB/survdat/blob/master/R/get_survdat_clam_data.r" class="external-link"><code>R/get_survdat_clam_data.r</code></a></small>
    <div class="hidden name"><code>get_survdat_clam_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Connects to svdbs and pulls Clam &amp; Quahog data from MSTR_CRUISE, UNION_FSCS_SVCAT, UNION_FSCS_SVLEN, UNION_FSCS_SVSTA.
Pulls from Cruises with purpose code = 50. (See <code><a href="get_cruise_purpose">get_cruise_purpose</a></code>). Data are assigned to one of 7 regions
('SVA', 'DMV', 'SNJ', 'NNJ', 'LI', 'SNE', 'GB') and length-to-meat weight conversions applied</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_survdat_clam_data</span><span class="op">(</span></span>
<span>  <span class="va">channel</span>,</span>
<span>  shg.check <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  clam.only <span class="op">=</span> <span class="cn">T</span>,</span>
<span>  tidy <span class="op">=</span> <span class="cn">F</span>,</span>
<span>  assignRegionWeights <span class="op">=</span> <span class="cn">T</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-channel">channel<a class="anchor" aria-label="anchor" href="#arg-channel"></a></dt>
<dd><p>an Object inherited from <a href="https://dbi.r-dbi.org/reference/DBIConnection-class.html" class="external-link">DBIConnection-class</a>. This object is used to communicate with the database engine. (see <code>connect_to_database</code>)</p></dd>


<dt id="arg-shg-check">shg.check<a class="anchor" aria-label="anchor" href="#arg-shg-check"></a></dt>
<dd><p>Boolean. use only SHG &lt;=136 or TOGA &lt;= 1324 (&gt;2008). (Default = T)</p></dd>


<dt id="arg-clam-only">clam.only<a class="anchor" aria-label="anchor" href="#arg-clam-only"></a></dt>
<dd><p>Boolean. T = grab only Atl. surfclam (403) and ocean quahog (409)</p></dd>


<dt id="arg-tidy">tidy<a class="anchor" aria-label="anchor" href="#arg-tidy"></a></dt>
<dd><p>Boolean. Return output in long format (Default = F)</p></dd>


<dt id="arg-assignregionweights">assignRegionWeights<a class="anchor" aria-label="anchor" href="#arg-assignregionweights"></a></dt>
<dd><p>Boolean. Assign Strata to Regions and then apply length weight coefficients. Currently hard coded for Survey strata prior to 2017. (Default = T).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing a Data frame (data.table) (n x 21) and a list of SQL queries used to pull the data, the date of the pull, and the call expression
Each row of the data.table represents the number at length of a species on a specific tow along with physical attributes of the tow.</p>
<p>The data frame (Descriptions taken from NEFSC Data dictionary)</p>
<dl><dt>clam.region</dt>
<dd><p>One of 7 identified Regions, 'SVA', 'DMV', 'SNJ', 'NNJ', 'LI', 'SNE', 'GB'</p></dd>

<dt>CRUISE6</dt>
<dd><p>Code uniquely identifying cruise. The first four digits indicate the year and the last two digit uniquely identify the cruise within the year. The 5th byte signifies cruises other than groundfish: Shrimp survey = 7 (i.e. 201470), State of Massachusetts survey = 9 (i.e. 201491), Food habits = 5 (i.e.199554)</p></dd>

<dt>STATION</dt>
<dd><p>Unique sequential order in which stations have been completed. Hangups and short tows each receive a non-repeated consecutive number.</p></dd>

<dt>STRATUM</dt>
<dd><p>A predefined area where a net dredge, or other piece of gear was deployed. Code consists of 2 parts: Stratum group code number (2 bytes) and stratum number (3 bytes). Stratum group refers to if area fished is inshore or offshore North or South of Cape Hatteras or the type of cruise (shellfish, State of MA, offshore deepwater). The stratum number (third and fourth digits of code) refers to area defined by depth zone. See SVDBS.SVMSTRATA. The fifth digit of the code increases the length of the stratum number for revised strata after the Hague Line was established. Stratum group code: 01 = Trawl, offshore north of Hatteras; 02 = BIOM; 03 = Trawl, inshore north of Hatteras; 04 = Shrimp; 05 = Scotian shelf; 06 = Shellfish; 07 = Trawl, inshore south of Hatteras; 08 = Trawl, Offshore south of Hatteras; 09 = MA DMF; 99 = Offshore deepwater (outside the stratified area). A change in Bottom Trawl Stratum for the Gulf of Maine-Bay of Fundy has been in effect since Spring 1987, and may be summarized as follows: Previous strata: 01350; Present strata: 01351, 01352.</p></dd>

<dt>SVSPP</dt>
<dd><p>A standard code which represents a species caught in a trawl or dredge. Refer to the SVDBS.SVSPECIES_LIST</p></dd>

<dt>CATCHSEX</dt>
<dd><p>Code used to identify species that are sexed at the catch level. See SVDBS.SEX_CODES</p></dd>

<dt>SVVESSEL</dt>
<dd><p>Standard two character code for a survey vessel. Refer to SVDBS.SV_VESSEL</p></dd>

<dt>YEAR</dt>
<dd><p>Year in which cruise was conducted.</p></dd>

<dt>LAT</dt>
<dd><p>Beginning latitude of tow in decimal degrees.(DECDEG_BEGLAT)</p></dd>

<dt>LON</dt>
<dd><p>Beginning longitude of tow in decimal degrees.(DECDEG_BEGLON)</p></dd>

<dt>DEPTH</dt>
<dd><p>A four digit number recording the average depth, to the nearest meter, during a survey gear deployment.(AVGDEPTH)</p></dd>

<dt>SURFTEMP</dt>
<dd><p>Surface temperature of water (degrees Celcius).</p></dd>

<dt>SURFSALIN</dt>
<dd><p>Salinity at water surface in practical salinity units (PSU).</p></dd>

<dt>BOTTEMP</dt>
<dd><p>Bottom temperature (degrees Celsius).</p></dd>

<dt>BOTSALIN</dt>
<dd><p>Bottom salinity in Practical Salinity Units (PSU).</p></dd>

<dt>ABUNDANCE</dt>
<dd><p>Expanded number of individuals of a species caught at a given station.(EXPCATCHNUM)</p></dd>

<dt>BIOMASS</dt>
<dd><p>Expanded catch weight of a species caught at a given station. (EXPCATCHWT)</p></dd>

<dt>LENGTH</dt>
<dd><p>Measured length of species in centimeters (cm). Measure method differs by species.</p></dd>

<dt>NUMLEN</dt>
<dd><p>Expanded number of specimens at a given length.(EXPNUMLEN)</p></dd>

<dt>BIOMASS.MW</dt>
<dd><p>Meat weight of catch based on LENGTH and NUMLEN of clams, conversion factors hard coded</p></dd>



</dl><p>The list of sql statements:</p>
<dl><dt>cruise</dt>
<dd><p>Select unique list of cruises. Table = MSTR_CRUISE</p></dd>

<dt>station</dt>
<dd><p>Select unique set of stations from result of <code>cruise</code>. Table = UNION_FSCS_SVSTA</p></dd>

<dt>catch</dt>
<dd><p>Select species abundance and biomass data from result of <code>station</code>. Table = UNION_FSCS_SVCAT</p></dd>

<dt>length</dt>
<dd><p>Select Lengths of species found in <code>catch</code>. Table = UNION_FSCS_SVLEN</p></dd>


</dl><p>The date:</p>
<p></p>
<dl><dt>pullDate</dt>
<dd><p>The date the data was pulled from the database</p></dd>


</dl><p>The expression:</p>
<dl><dt>functionCall</dt>
<dd><p>The call used to create the data pul</p></dd>

</dl></div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other survdat:
<code><a href="calc_stratified_mean.html">calc_stratified_mean</a>()</code>,
<code><a href="calc_swept_area.html">calc_swept_area</a>()</code>,
<code><a href="get_area.html">get_area</a>()</code>,
<code><a href="get_survdat_data.html">get_survdat_data</a>()</code>,
<code><a href="get_survdat_scallop_data.html">get_survdat_scallop_data</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Recommended use:</span></span></span>
<span class="r-in"><span><span class="va">channel</span> <span class="op">&lt;-</span> <span class="fu">dbutils</span><span class="fu">::</span><span class="fu">connect_to_database</span><span class="op">(</span><span class="st">"serverName"</span>,<span class="st">"userName"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_survdat_clam_data</span><span class="op">(</span><span class="va">channel</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Sean Lucey, Andy Beet.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

